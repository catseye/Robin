(robin (0 1) ((small (0 1) *) (concurrency (0 1) *) (crude-io (0 1) *))
  (bind input-loop
        (fun (self)
          (recv! entered
            (if (equal? entered (literal eof))
              #f
              (call! crude-output write (pair #t entered) foo
                (self self)))))
    (call! crude-input subscribe () x
      (input-loop input-loop))))
