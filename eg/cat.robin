(reactor (line-terminal) 0 (macro (self args env)
  (bind event (head args)
    (bind payload (head (tail args))
      (if (equal? event (literal readln))
        (list 0 (list (literal writeln) payload))
        (list 0))))))
